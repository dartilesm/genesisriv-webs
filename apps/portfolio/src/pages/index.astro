---
import AboutAlt from "@/components/about-alt.astro";
import CertificatesAlt from "@/components/certificates-alt.astro";
import ExperienceAlt from "@/components/experience-alt.astro";
import PresentationAlt from "@/components/presentation-alt.astro";
import ProjectsAlt2 from "@/components/projects-alt-2.astro";
import ProjectsAlt from "@/components/projects-alt.astro";
import Projects from "@/components/projects.astro";
import Testimonials from "@/components/testimonials.astro";
import RootLayout from "@/layouts/root-layout.astro";
import type { Metadata, Portfolio } from "@/types/index";
import { useSanityClient } from "@sanity/astro";

const [siteData] = await useSanityClient().fetch<Portfolio[]>(`*[_type == "portfolio"]`);
const [, siteMetaData] = await useSanityClient().fetch<Metadata[]>(`*[_type == "metadata"]`);
---

<RootLayout metadata={siteMetaData} headerData={siteData.header}>
  <PresentationAlt data={siteData.presentation} />
  <Projects data={siteData.projects} />
  <ProjectsAlt data={siteData.projects} />
  <ProjectsAlt2 data={siteData.projects} />
  <ExperienceAlt data={siteData.experience} />
  <AboutAlt data={siteData.about} />
  <CertificatesAlt data={siteData.certificates} />
  <Testimonials data={siteData.testimonials} />
</RootLayout>
